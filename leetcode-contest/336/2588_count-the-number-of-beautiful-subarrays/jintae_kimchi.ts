/**
 * https://leetcode.com/problems/count-the-number-of-beautiful-subarrays/description/
 * Runtime 172 ms Beats 23.8% Memory 74.3 MB Beats 84.62%
 *
 * ë¬¸ì œ)
 * ì–‘ì˜ ì •ìˆ˜ ë°°ì—´ì´ ì£¼ì–´ì§
 * ì„ì˜ë¡œ ì •í•œ ë¶€ë¶„ë°°ì—´ì—ì„œ ë‘ ê°œì˜ ê°’ì„ ë½‘ì•„ì„œ ë‹¤ìŒ ì—°ì‚°ì„ ìˆ˜í–‰
 *      ë‘ ê°’ì„ ì´ì§„ìˆ˜ë¡œ ì·¨ê¸‰í–ˆì„ ë•Œ 1ì˜ ìë¦¿ìˆ˜ê°€ ê°™ì€ ì¸ë±ìŠ¤ë¥¼ k ë¡œ ì •í•¨(<- ë°©í–¥ìœ¼ë¡œ ì¸ë±ìŠ¤ ì‹œì‘)
 *      ë‘ ê°’ì— 2^k ë¥¼ ëºŒ(k ì¸ë±ìŠ¤ ê°’ì„ 0ìœ¼ë¡œ ë§Œë“œëŠ” ì˜ë¯¸ì™€ ë™ì¼)
 *      ìœ„ ì—°ì‚°ìœ¼ë¡œ ë³€ê²½ëœ ê°’ìœ¼ë¡œ ë˜ ì—°ì‚°í•  ìˆ˜ ìˆìŒ
 * ë¶€ë¶„ë°°ì—´ì˜ ì—°ì‚°ê²°ê³¼ì˜ ëª¨ë“  ìš”ì†Œê°€ 0ì´ ë  ìˆ˜ ìˆìœ¼ë©´ ì¹´ìš´íŠ¸
 *
 * í’€ì´)
 * ë¶€ë¶„ì§‘í•©ì˜ ì¼€ì´ìŠ¤ë¥¼ ëª‡ ê°œ ì¡ê³  ë¶„ì„í•´ë³´ë©´
 * 1ì˜ ê°œìˆ˜ê°€ ì§ìˆ˜ì¸ ê²½ìš°ë§Œ ëª¨ë‘ 0ì´ ë  ìˆ˜ ìˆìŒ
 * ê·¸ê²ƒì„ ì—°ì‚°ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ëª¨ë“  ê°’ì˜ xor ì—°ì‚°ê³¼ ë™ì¼
 * ëª¨ë“  ë¶€ë¶„ì§‘í•©ì— ëŒ€í•´ ìœ„ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´ ì •ë‹µì˜ ê°œìˆ˜ê°€ ë‚˜ì˜´
 * --------------------
 * ğŸ˜­ ê·¸ëŸ°ë° ìˆœì§„í•˜ê²Œ ë°˜ë³µë¬¸ìœ¼ë¡œ ì²´í¬í•˜ë©´ ì„±ëŠ¥ì´ìŠˆê°€ ë°œìƒ
 * ì†”ë£¨ì…˜ì—ì„œëŠ” map ì„ ì´ìš©í•˜ì—¬ n^2 ì„ n ìœ¼ë¡œ êµ¬í˜„í•¨ <- ì–´ë–»ê²Œ ì´ëŸ° ì½”ë“œê°€ ë‚˜ì˜¤ëŠ”ì§€ ì´í•´ê°€ ì•ˆë¨
 */

function beautifulSubarrays(nums: number[]): number {
  let ans = 0;
  const map = new Map<number, number>();
  map.set(0, 1);
  let prefix = 0;
  nums.forEach((num) => {
    prefix ^= num;
    ans += map.get(prefix) ?? 0;
    map.set(prefix, map.get(prefix) ? map.get(prefix)! + 1 : 1);
  });

  return ans;
}
